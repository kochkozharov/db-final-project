Репликация — это процесс копирования данных с одного сервера базы данных на другой для обеспечения доступности, надежности и производительности системы. Репликация является неотъемлемой частью масштабируемых и отказоустойчивых систем.



Цели репликации:
1 Отказоустойчивость
2 Масштабирование нагрузки
3 Ускорение доступа
    Реплики могут быть размещены ближе к конечным пользователям, что сокращает время задержки при доступе к данным.
4 Архивирование и резервирование



Типы репликации:
1 Синхронная репликация:
    Данные записываются одновременно на основной и реплицирующий серверы.
    Преимущество: Обеспечивает консистентность данных.
    Недостаток: Высокая задержка, так как транзакция завершается только после подтверждения записи на всех серверах.

2 Асинхронная репликация:
    Данные записываются на реплицирующий сервер с некоторой задержкой.
    Преимущество: Высокая производительность основной базы данных.
    Недостаток: Возможность потери данных в случае сбоя до завершения репликации.

3 Однонаправленная (Master-Slave) репликация:
    Изменения данных происходят только на основном сервере (мастере), а реплики (слейвы) только читают данные.
    Применение: Распределение нагрузки на чтение.

4 Многонаправильная (Master-Master) репликация:
    Все узлы могут выполнять операции записи и чтения.
    Преимущество: Позволяет любому серверу работать автономно.
    Недостаток: Усложненное управление конфликтами при записи.

5 Каскадная репликация:
    архитектура репликации, в которой данные передаются от основного сервера (мастера) через промежуточные реплики к конечным узлам. Промежуточные реплики выполняют роль как клиента (получают данные от вышестоящего узла), так и сервера (отправляют данные нижестоящим репликам).
    Применение: Используется для масштабирования сложных систем.



Механизмы репликации:
1 Файл журнала транзакций (Write-Ahead Logging, WAL):
    Используется для репликации изменений из журнала транзакций основного сервера на реплики.
    Пример: PostgreSQL использует WAL для потоковой репликации.

2 Снимки данных (Snapshot Replication):
    Полное копирование текущего состояния базы данных на реплики.
    Применяется для периодической репликации больших объемов данных.

3 Дельта-репликация:
    Передаются только изменения, внесенные с момента последней репликации.
    Оптимально для уменьшения объема передаваемых данных.